// checker-practice4.cpp : 此檔案包含 'main' 函式。程式會於該處開始執行及結束執行。
//

#include "pch.h"
#include <iostream>
#include <fstream> //要開啟檔案時用的標頭檔
#include <Windows.h>
#include <cmath>
using namespace std;


const int N = 17;
int A[N][N];
void readboard(int A[N][N]);
double r = 0; //棋子與所要下的目標的距離
int Color_Name;//棋子的顏色
void choose_chess(int x_destination, int y_destination);  //指定這一局要移動的座標並輸出，指定棋子與目的地座標的距離

int main(int argc,char *argv[])
{
	readboard(A);
	if (argc > 1) 
	{
		if (!strcmp(argv[1], "2"))
		{
			cout << "you are RED " << endl;
			Color_Name = 2;
			choose_chess(16, 4);
		}
		else if (!strcmp(argv[1], "3"))
		{
			cout << "you are YELLOW" << endl;
			Color_Name = 3;
			choose_chess(4, 16);
		}
		else if (!strcmp(argv[1], "4"))
		{
			cout << "you are GREEN" << endl;
			Color_Name = 4;
			choose_chess(4, 4);
		}
		else
		{
			cout << "wrong COLOR!!!" << endl;
		}

	}
	else 
	{
		
	}
}

void readboard(int A[N][N])
{
	ifstream file;
	file.open("board.txt");
	int i, j;
	for (i = 0; i < N; i++)
		for (j = 0; j < N; j++)
		{
			file >> A[i][j];
		}
	file.close();
}

void choose_chess(int x_destination, int y_destination) //找最小值
{
	
	int x = 0;
	int y = 0;
	int i, j;
	double temp= 100000;//暫存值
	int I, J;//最短距離的座標值
	ifstream file;
	ofstream fin;
	file.open("board.txt");
	for (int i = 0; i < N; i++)
	{
		for (int j = 0; j < N; j++)
		{
			file >> A[i][j];
			if (A[i][j] == Color_Name) 
			{
				//---選一個棋子的過程----//
				cout << i << "," << x_destination << "," << j  << "," << y_destination << endl;//DEBUG
				r = (i - x_destination) *( i- x_destination) + (j - y_destination) * ( j - y_destination);//取點對點距離但不取根號
				A[i][j] = r; //將A[i][j]的值改為r
				cout << A[i][j] << endl;//DEBUG
						if (A[i][j] < temp)//找最小值
						{
							temp = A[i][j];
							I = i;
							J = j;
						}
				
			}
		}
	}
	file.close();
	cout << temp << endl;//DEBUG
	cout << I << "," << J << endl;//DEBUG
	
}







